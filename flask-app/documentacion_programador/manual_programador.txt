Manual del Programador
======================

Este manual describe la estructura, instalación, despliegue y buenas prácticas para el proyecto **PadelPr0 Club**.

---

Estructura del Proyecto
-----------------------
```
flask-app/
 ├── app/
 │   ├── __init__.py           # Inicialización Flask y SQLAlchemy
 │   ├── config.py             # Configuración de la app (correo, BD, etc.)
 │   ├── padel_app.py          # Rutas y lógica principal
 │   ├── models.py             # Modelos de la base de datos
 │   ├── correo.py             # Función para envío de emails
 │   ├── utils.py              # Validaciones y utilidades
 │   ├── init_db.py            # Script para inicializar la BD y datos por defecto
 │   ├── run.py                # Arranque de la app
 │   ├── static/               # Archivos estáticos (CSS, JS, imágenes)
 │   └── templates/            # Plantillas HTML (Jinja2)
 ├── requirements.txt          # Dependencias del proyecto
 └── README.md                 # Descripción general y guía rápida
```

---

Instalación y Ejecución Local
-----------------------------
1. **Clona el repositorio:**
   ```
   git clone <URL_DEL_REPOSITORIO>
   cd flask-app
   ```

2. **Instala las dependencias:**
   ```
   pip install -r requirements.txt
   ```

3. **Inicializa la base de datos:**
   ```
   python app/init_db.py
   ```

4. **Arranca la aplicación:**
   ```
   python app/run.py
   ```

5. **Accede en tu navegador a:**
   ```
   http://localhost:5000
   ```

---

Configuración
-------------
- Edita `config.py` para los parámetros de correo, base de datos, etc.
- Las variables sensibles pueden ir en un archivo `.env` (opcional, no subir a repositorio público).

---

Despliegue en PythonAnywhere (Producción)
-----------------------------------------
Para que la aplicación esté disponible en Internet y accesible desde cualquier lugar:

1. **Comprime la carpeta `app` en un ZIP en tu PC.**
2. **Sube `app.zip` y `requirements.txt` desde la pestaña Files de PythonAnywhere.**
3. **Abre una consola Bash en PythonAnywhere (Consoles > Bash).**
4. **Descomprime el ZIP:**
   ```
   unzip app.zip
   ```
5. **Crea y activa un entorno virtual (usa Python 3.10):**
   ```
   python3.10 -m venv /home/TU_USUARIO/myenv
   source /home/TU_USUARIO/myenv/bin/activate
   pip install -r /home/TU_USUARIO/requirements.txt
   ```
   *(Cambia `TU_USUARIO` por tu usuario real, por ejemplo, `padelpr0`)*

6. **En la pestaña Web:**
   - **Source code:** `/home/TU_USUARIO/app`
   - **Virtualenv:** `/home/TU_USUARIO/myenv`
   - **WSGI configuration file:** Edita para que importe tu app Flask:
     ```python
     import sys
     path = '/home/TU_USUARIO/app'
     if path not in sys.path:
         sys.path.insert(0, path)
     from padel_app import app as application
     ```
7. **Haz clic en "Reload" para reiniciar la web app.**

8. **Tu aplicación estará disponible en:**
   ```
   https://TU_USUARIO.pythonanywhere.com
   ```
   y tu profesor podrá acceder en cualquier momento.

---

Acceso Administrador
--------------------
El usuario administrador se crea automáticamente al inicializar la base de datos.
**Por seguridad, el usuario y contraseña de administración se facilitarán al tutor por un canal seguro y no se incluyen en este manual.**

---

Buenas Prácticas y Consejos
---------------------------
- **No publiques contraseñas ni datos sensibles en el manual ni en el repositorio.**
- **Revisa el archivo `requirements.txt` antes de desplegar para evitar dependencias innecesarias.**
- **Para problemas de despliegue, revisa los logs en la pestaña Web de PythonAnywhere.**
- **Si necesitas crear un nuevo admin, hazlo desde la base de datos o desde la web y actualiza el campo `is_admin`.**
- **Para soporte responsive, revisa que tu CSS tenga media queries y el meta viewport esté en el `<head>`.**
- **Documenta cualquier cambio importante en el código o en la estructura del proyecto.**

---

Contacto y Soporte
------------------
Para dudas técnicas, contactar con la responsable del proyecto:  
**Belén Caldera Moreno**  
Correo: padel.pr0.28@gmail.com

---

**Fin del manual**